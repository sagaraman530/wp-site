const spinningWorld=document.getElementById('globeViz')
if(spinningWorld){const N=20;const arcsData=[...Array(N).keys()].map(()=>({startLat:(Math.random()-0.5)*180,startLng:(Math.random()-0.5)*360,endLat:(Math.random()-0.5)*180,endLng:(Math.random()-0.5)*360,color:[['#486be9','white','#b161cf','#52e58e'][Math.round(Math.random()*3)],['#486be9','white','#b161cf','#52e58e'][Math.round(Math.random()*3)]]}));const world=Globe().width(600).height(600).backgroundColor('#fff').globeImageUrl('/wp-content/themes/chargepanel/worldmap.jpg').arcsData(arcsData).arcColor('color').arcDashLength(()=>Math.random()).arcDashGap(()=>Math.random()).arcDashAnimateTime(()=>Math.random()*4000+500)
(document.getElementById('globeViz'))
world.controls().autoRotate=true;world.controls().autoRotateSpeed=0.8;world.controls().enableZoom=false;}
const fossilPopup=document.getElementById('coCalc')
if(fossilPopup){document.addEventListener('DOMContentLoaded',function(){document.getElementById('coCalc').addEventListener('click',function(){document.querySelector('.cocalculationInfo').style.display='block';});document.addEventListener('click',function(event){const popup=document.querySelector('.cocalculationInfo');if(!popup.contains(event.target)&&event.target!==document.getElementById('coCalc')){popup.style.display='none';}});document.querySelector('.close').addEventListener('click',function(){document.querySelector('.cocalculationInfo').style.display='none';});});}
document.addEventListener('DOMContentLoaded',function(){const container=document.querySelector('.hscroll');const content=document.querySelector('.nowrap');const leftBtn=document.querySelector('.scroll-left');const rightBtn=document.querySelector('.scroll-right');if(container&&content&&leftBtn&&rightBtn){const scrollStep=350;leftBtn.addEventListener('click',function(){content.scrollBy({left:-scrollStep,behavior:'smooth'});});rightBtn.addEventListener('click',function(){content.scrollBy({left:scrollStep,behavior:'smooth'});});}});function getBrowserLanguage(){const preferredLanguages=navigator.languages||[navigator.language||navigator.userLanguage];const languageCode=preferredLanguages[0].split('-')[0];return languageCode;}
function getCookie(name){var value="; "+document.cookie;var parts=value.split("; "+name+"=");if(parts.length===2)return parts.pop().split(";").shift();}
function setCookie(name,value,days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="expires="+date.toUTCString();document.cookie=name+"="+value+"; "+expires+"; path=/";}
document.addEventListener('DOMContentLoaded',function(){const browserLanguage=getBrowserLanguage();var banner=document.getElementById('language-banner');var closeButton=document.getElementById('close-banner');if((getCookie('hide_banner')==='false'||getCookie('hide_banner')===undefined)&&browserLanguage==='sv'){banner.style.display='block';}
closeButton.addEventListener('click',function(){banner.style.display='none';setCookie('hide_banner','true',365);});});